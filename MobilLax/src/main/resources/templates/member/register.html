<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MobilLax - 회원가입</title>
  <link href="/css/login.css" type="text/css" rel="stylesheet">
</head>
<body>
<header>
  <h1><a href="/home">MobilLax</a></h1> <!-- 홈 페이지 링크 수정 -->
</header>
<div class="form-wrapper">
  <div class="form-box">
    <h2>회원가입</h2>

    <!-- 오류 메시지 출력 -->
    <div th:if="${error != null}">
      <p style="color: red;" th:text="${error}"></p>
    </div>

    <!-- 성공 메시지 출력 -->
    <script th:if="${successMessage != null}" type="text/javascript">
      alert([[${successMessage}]]);
    </script>

    <!-- 회원가입 폼 -->
    <form action="/register" method="POST">
      <!-- CSRF 토큰 필드 추가 -->
      <th:block th:if="${_csrf != null}">
        <input type="hidden" name="_csrf" th:value="${_csrf.token}" />
      </th:block>

      <input type="text" name="name" placeholder="이름" required class="form-input">
      <input type="email" name="email" placeholder="이메일" required class="form-input">
      <input type="password" name="password" placeholder="비밀번호" required class="form-input">
      <button type="submit" class="form-btn">회원가입</button>
    </form>

    <div class="link">이미 계정이 있으신가요? <a href="/login">로그인</a></div>
  </div>
</div>
</body>
</html>
